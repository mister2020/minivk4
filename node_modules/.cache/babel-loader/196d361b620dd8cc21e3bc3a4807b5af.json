{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/max/Desktop/min/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/max/Desktop/min/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/max/Desktop/min/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{AdaptivityProvider,ConfigProvider,useAdaptivity,AppRoot,SplitLayout,SplitCol,ViewWidth,View,Panel,PanelHeader,Header,Group,SimpleCell,withAdaptivity,CellButton,PopoutWrapper,ModalDismissButton,Button,Div,Title,Cell,Switch}from\"@vkontakte/vkui\";import\"@vkontakte/vkui/dist/vkui.css\";import bridge from'@vkontakte/vk-bridge';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useAdaptivity=useAdaptivity(),viewWidth=_useAdaptivity.viewWidth;var _React$useState=React.useState(null),_React$useState2=_slicedToArray(_React$useState,2),popout=_React$useState2[0],setPopout=_React$useState2[1];var _React$useState3=React.useState([{id:1,completed:false},{id:2,completed:false},{id:3,completed:false},{id:4,completed:false},{id:5,completed:false},{id:6,completed:false},{id:7,completed:false},{id:8,completed:false}]),_React$useState4=_slicedToArray(_React$useState3,1),todos=_React$useState4[0];var have_on=false;var all_off=true;var stop_bit=false;var styles={but:{textAlign:'center',align:'center'},title:{marginTop:'5px',marginBottom:'5px',textAlign:'center'},gr:{margin:'0 auto 0 auto'}};function haveOnTest(){var points=0;var i=0;while(i<8){if(todos[i].completed===true){points+=1;}i++;}if(points>0)return true;}function allOffTest(){var points=0;var i=0;while(i<8){if(todos[i].completed===false){points+=1;}i++;}if(points===8)return true;}function startBit(){stop_bit=false;var i=0;var timerId=setInterval(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(stop_bit===true){clearInterval(timerId);console.log('STOPBIT');}if(!(i===0&&todos[0].completed===true)){_context.next=4;break;}_context.next=4;return bridge.send(\"VKWebAppFlashSe1tLevel\",{\"level\":1});case 4:_context.next=6;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":0});case 6:if(!(i===1&&todos[1].completed===true)){_context.next=9;break;}_context.next=9;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":1});case 9:_context.next=11;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":0});case 11:if(!(i===2&&todos[2].completed===true)){_context.next=14;break;}_context.next=14;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":1});case 14:_context.next=16;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":0});case 16:if(!(i===3&&todos[3].completed===true)){_context.next=19;break;}_context.next=19;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":1});case 19:_context.next=21;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":0});case 21:if(!(i===4&&todos[4].completed===true)){_context.next=24;break;}_context.next=24;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":1});case 24:_context.next=26;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":0});case 26:if(!(i===5&&todos[5].completed===true)){_context.next=29;break;}_context.next=29;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":1});case 29:_context.next=31;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":0});case 31:if(!(i===6&&todos[6].completed===true)){_context.next=34;break;}_context.next=34;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":1});case 34:_context.next=36;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":0});case 36:if(!(i===7&&todos[7].completed===true)){_context.next=39;break;}_context.next=39;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":1});case 39:_context.next=41;return bridge.send(\"VKWebAppFlashSetLevel\",{\"level\":0});case 41:i++;if(i===8){i=0;};case 44:case\"end\":return _context.stop();}}},_callee);})),1000);}function button1(){if(todos[0].completed===false){var res=allOffTest();if(res===true)startBit();todos[0].completed=true;}else{todos[0].completed=false;var _res=allOffTest();if(_res===true)stop_bit=true;}console.log(todos[0].completed);}function button2(){if(todos[1].completed===false){var res=allOffTest();if(res===true)startBit();todos[1].completed=true;}else{todos[1].completed=false;var _res2=allOffTest();if(_res2===true)stop_bit=true;}console.log(todos[1].completed);}function button3(){if(todos[2].completed===false){var res=allOffTest();if(res===true)startBit();todos[2].completed=true;}else{todos[2].completed=false;var _res3=allOffTest();if(_res3===true)stop_bit=true;}console.log(todos[2].completed);}function button4(){if(todos[3].completed===false){var res=allOffTest();if(res===true)startBit();todos[3].completed=true;}else{todos[3].completed=false;var _res4=allOffTest();if(_res4===true)stop_bit=true;}console.log(todos[3].completed);}function button5(){if(todos[4].completed===false){var res=allOffTest();if(res===true)startBit();todos[4].completed=true;}else{todos[4].completed=false;var _res5=allOffTest();if(_res5===true)stop_bit=true;}console.log(todos[4].completed);}function button6(){if(todos[5].completed===false){var res=allOffTest();if(res===true)startBit();todos[5].completed=true;}else{todos[5].completed=false;var _res6=allOffTest();if(_res6===true)stop_bit=true;}console.log(todos[5].completed);}function button7(){if(todos[6].completed===false){var res=allOffTest();if(res===true)startBit();todos[6].completed=true;}else{todos[6].completed=false;var _res7=allOffTest();if(_res7===true)stop_bit=true;}console.log(todos[6].completed);}function button8(){if(todos[7].completed===false){var res=allOffTest();if(res===true)startBit();todos[7].completed=true;}else{todos[7].completed=false;var _res8=allOffTest();if(_res8===true)stop_bit=true;}console.log(todos[7].completed);}//return\nreturn/*#__PURE__*/_jsx(SplitLayout,{children:/*#__PURE__*/_jsx(SplitCol,{children:/*#__PURE__*/_jsx(View,{popout:popout,activePanel:\"popout\",children:/*#__PURE__*/_jsxs(Panel,{id:\"popout\",children:[/*#__PURE__*/_jsx(Title,{level:\"1\",weight:\"bold\",style:styles.title,children:\"\\u0411\\u0438\\u0442-\\u0444\\u043E\\u043D\\u0430\\u0440\\u0438\\u043A\"}),/*#__PURE__*/_jsxs(Group,{style:styles.gr,children:[/*#__PURE__*/_jsx(Cell,{disabled:true,after:/*#__PURE__*/_jsx(Switch,{onClick:button1})}),/*#__PURE__*/_jsx(Cell,{disabled:true,after:/*#__PURE__*/_jsx(Switch,{onClick:button2})}),/*#__PURE__*/_jsx(Cell,{disabled:true,after:/*#__PURE__*/_jsx(Switch,{onClick:button3})}),/*#__PURE__*/_jsx(Cell,{disabled:true,after:/*#__PURE__*/_jsx(Switch,{onClick:button4})}),/*#__PURE__*/_jsx(Cell,{disabled:true,after:/*#__PURE__*/_jsx(Switch,{onClick:button5})}),/*#__PURE__*/_jsx(Cell,{disabled:true,after:/*#__PURE__*/_jsx(Switch,{onClick:button6})}),/*#__PURE__*/_jsx(Cell,{disabled:true,after:/*#__PURE__*/_jsx(Switch,{onClick:button7})}),/*#__PURE__*/_jsx(Cell,{disabled:true,after:/*#__PURE__*/_jsx(Switch,{onClick:button8})})]})]})})})});}export default App;","map":{"version":3,"sources":["C:/Users/max/Desktop/min/src/App.js"],"names":["React","AdaptivityProvider","ConfigProvider","useAdaptivity","AppRoot","SplitLayout","SplitCol","ViewWidth","View","Panel","PanelHeader","Header","Group","SimpleCell","withAdaptivity","CellButton","PopoutWrapper","ModalDismissButton","Button","Div","Title","Cell","Switch","bridge","App","viewWidth","useState","popout","setPopout","id","completed","todos","have_on","all_off","stop_bit","styles","but","textAlign","align","title","marginTop","marginBottom","gr","margin","haveOnTest","points","i","allOffTest","startBit","timerId","setInterval","clearInterval","console","log","send","button1","res","button2","button3","button4","button5","button6","button7","button8"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport {\r\n  AdaptivityProvider,\r\n  ConfigProvider,\r\n  useAdaptivity,\r\n  AppRoot,\r\n  SplitLayout,\r\n  SplitCol,\r\n  ViewWidth,\r\n  View,\r\n  Panel,\r\n  PanelHeader,\r\n  Header,\r\n  Group,\r\n  SimpleCell,\r\n  withAdaptivity,\r\n  CellButton,\r\n  PopoutWrapper,\r\n  ModalDismissButton,\r\n  Button,\r\n  Div,\r\n  Title,\r\n  Cell,\r\n  Switch\r\n} from \"@vkontakte/vkui\";\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\nimport bridge from '@vkontakte/vk-bridge'\r\n\r\n\r\nfunction App() {\r\n  const { viewWidth } = useAdaptivity();\r\n  const [popout, setPopout] = React.useState(null);\r\n\r\n  const [todos] = React.useState([\r\n    {id: 1, completed: false},\r\n    {id: 2, completed: false},\r\n    {id: 3, completed: false},\r\n    {id: 4, completed: false},\r\n    {id: 5, completed: false},\r\n    {id: 6, completed: false},\r\n    {id: 7, completed: false},\r\n    {id: 8, completed: false}\r\n  ])\r\n\r\n  let have_on = false;\r\n  let all_off = true;\r\n  let stop_bit = false;\r\n\r\n    const styles = {\r\n      but: {\r\n        textAlign: 'center',\r\n        align: 'center'\r\n      },\r\n      title: {\r\n        marginTop: '5px',\r\n        marginBottom: '5px',\r\n        textAlign: 'center'\r\n      },\r\n      gr: {\r\n        margin: '0 auto 0 auto'\r\n      }\r\n    }\r\n\r\n    function haveOnTest () {\r\n      let points = 0;\r\n      let i = 0;\r\n      while (i < 8) {\r\n        if (todos[i].completed === true){\r\n          points += 1;\r\n        }\r\n        i++;\r\n      }\r\n      if (points > 0) return true;\r\n    }\r\n\r\n    function allOffTest () {\r\n      let points = 0;\r\n      let i = 0;\r\n      while (i < 8) {\r\n        if (todos[i].completed === false){\r\n          points += 1;\r\n        }\r\n        i++;\r\n      }\r\n      if (points === 8) return true;\r\n    }\r\n\r\n     function startBit () {\r\n      stop_bit = false;\r\n      let i = 0;\r\n      let timerId = setInterval(async() => {\r\n        if (stop_bit === true){\r\n          clearInterval(timerId)\r\n          console.log('STOPBIT')\r\n        }\r\n\r\n        \r\n        if (i === 0 && todos[0].completed === true){await bridge.send(\"VKWebAppFlashSe1tLevel\", {\"level\": 1})}\r\n        await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0})\r\n        if (i === 1 && todos[1].completed === true){await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1})}\r\n        await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0})\r\n        if (i === 2 && todos[2].completed === true){await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1})}\r\n        await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0})\r\n        if (i === 3 && todos[3].completed === true){await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1})}\r\n        await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0})\r\n        if (i === 4 && todos[4].completed === true){await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1})}\r\n        await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0})\r\n        if (i === 5 && todos[5].completed === true){await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1})}\r\n        await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0})\r\n        if (i === 6 && todos[6].completed === true){await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1})}\r\n        await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0})\r\n        if (i === 7 && todos[7].completed === true){await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 1})}\r\n        await bridge.send(\"VKWebAppFlashSetLevel\", {\"level\": 0})\r\n\r\n        i++;\r\n        if (i === 8) {i = 0};\r\n      }, 1000);\r\n    }\r\n\r\n\r\n    function button1 () {\r\n      if (todos[0].completed === false) {\r\n        let res = allOffTest();\r\n        if (res === true) startBit();\r\n        todos[0].completed = true;\r\n      } else {\r\n        todos[0].completed = false;\r\n        let res = allOffTest();\r\n        if (res === true) stop_bit = true;\r\n      }\r\n      console.log(todos[0].completed)\r\n    }\r\n    function button2 () {\r\n      if (todos[1].completed === false) {\r\n        let res = allOffTest();\r\n        if (res === true) startBit();\r\n        todos[1].completed = true;\r\n      } else {\r\n        todos[1].completed = false;\r\n        let res = allOffTest();\r\n        if (res === true) stop_bit = true;\r\n      }\r\n      console.log(todos[1].completed)\r\n    }\r\n    function button3 () {\r\n      if (todos[2].completed === false) {\r\n        let res = allOffTest();\r\n        if (res === true) startBit();\r\n        todos[2].completed = true;\r\n      } else {\r\n        todos[2].completed = false;\r\n        let res = allOffTest();\r\n        if (res === true) stop_bit = true;\r\n      }\r\n      console.log(todos[2].completed)\r\n    }\r\n    function button4 () {\r\n      if (todos[3].completed === false) {\r\n        let res = allOffTest();\r\n        if (res === true) startBit();\r\n        todos[3].completed = true;\r\n      } else {\r\n        todos[3].completed = false;\r\n        let res = allOffTest();\r\n        if (res === true) stop_bit = true;\r\n      }\r\n      console.log(todos[3].completed)\r\n    }\r\n    function button5 () {\r\n      if (todos[4].completed === false) {\r\n        let res = allOffTest();\r\n        if (res === true) startBit();\r\n        todos[4].completed = true;\r\n      } else {\r\n        todos[4].completed = false;\r\n        let res = allOffTest();\r\n        if (res === true) stop_bit = true;\r\n      }\r\n      console.log(todos[4].completed)\r\n    }\r\n    function button6 () {\r\n      if (todos[5].completed === false) {\r\n        let res = allOffTest();\r\n        if (res === true) startBit();\r\n        todos[5].completed = true;\r\n      } else {\r\n        todos[5].completed = false;\r\n        let res = allOffTest();\r\n        if (res === true) stop_bit = true;\r\n      }\r\n      console.log(todos[5].completed)\r\n    }\r\n    function button7 () {\r\n      if (todos[6].completed === false) {\r\n        let res = allOffTest();\r\n        if (res === true) startBit();\r\n        todos[6].completed = true;\r\n      } else {\r\n        todos[6].completed = false;\r\n        let res = allOffTest();\r\n        if (res === true) stop_bit = true;\r\n      }\r\n      console.log(todos[6].completed)\r\n    }\r\n    function button8 () {\r\n      if (todos[7].completed === false) {\r\n        let res = allOffTest();\r\n        if (res === true) startBit();\r\n        todos[7].completed = true;\r\n      } else {\r\n        todos[7].completed = false;\r\n        let res = allOffTest();\r\n        if (res === true) stop_bit = true;\r\n      }\r\n      console.log(todos[7].completed)\r\n    }\r\n\r\n\r\n  //return\r\n  return (\r\n    <SplitLayout>\r\n      <SplitCol>\r\n    <View popout={popout} activePanel=\"popout\">\r\n      <Panel id=\"popout\" >\r\n      <Title level=\"1\" weight=\"bold\" style={styles.title}>Бит-фонарик</Title>\r\n        <Group style={styles.gr}>\r\n\r\n        <Cell disabled after={<Switch onClick={button1} />}></Cell>\r\n        <Cell disabled after={<Switch onClick={button2} />}></Cell>\r\n        <Cell disabled after={<Switch onClick={button3} />}></Cell>\r\n        <Cell disabled after={<Switch onClick={button4} />}></Cell>\r\n        <Cell disabled after={<Switch onClick={button5} />}></Cell>\r\n        <Cell disabled after={<Switch onClick={button6} />}></Cell>\r\n        <Cell disabled after={<Switch onClick={button7} />}></Cell>\r\n        <Cell disabled after={<Switch onClick={button8} />}></Cell>\r\n\r\n\r\n        </Group>\r\n      </Panel>\r\n    </View>\r\n    </SplitCol>\r\n    </SplitLayout>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}